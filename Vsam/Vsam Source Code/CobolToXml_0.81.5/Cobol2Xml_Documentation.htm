<style type="text/css"><!--

.syntax-NULL {
  color: #000000;
}
.syntax-COMMENT1 {
  color: #cc0000;
}
.syntax-COMMENT2 {
  color: #ff8400;
}
.syntax-COMMENT3 {
  color: #6600cc;
}
.syntax-COMMENT4 {
  color: #cc6600;
}
.syntax-DIGIT {
  color: #ff0000;
}
.syntax-FUNCTION {
  color: #9966ff;
}
.syntax-INVALID {
  background: #ffffcc;
  color: #ff0066;
}
.syntax-KEYWORD1 {
  color: #006699;
  font-weight: bold;
}
.syntax-KEYWORD2 {
  color: #009966;
  font-weight: bold;
}
.syntax-KEYWORD3 {
  color: #0099ff;
  font-weight: bold;
}
.syntax-KEYWORD4 {
  color: #66ccff;
  font-weight: bold;
}
.syntax-LABEL {
  color: #02b902;
}
.syntax-LITERAL1 {
  color: #ff00cc;
}
.syntax-LITERAL2 {
  color: #cc00cc;
}
.syntax-LITERAL3 {
  color: #9900cc;
}
.syntax-LITERAL4 {
  color: #6600cc;
}
.syntax-MARKUP {
  color: #0000ff;
}
.syntax-OPERATOR {
  color: #000000;
  font-weight: bold;
}

.gutter {
  background: #dbdbdb;
  color: #000000;
  border-right: 2px solid black ;
  margin-right: 5px ;
}
.gutterH {
  background: #dbdbdb;
  color: #990066;
  border-right: 2px solid black ; 
  margin-right: 5px ;
}

--></style>
<body>
<h1>Converting Cobol Data Files To / From Xml</h1>
<ul> 
 <li><a href="#batch">Batch interface: Data2Xml and Xml2Data</a></li>
 <li><a href="#java">Java Interface</a></li>
 <li><a href="#const">Scripting support</a></li>
 <li><a href="#JavaScript">Java Script Interface</a></li>
 <li><a href="#JavaScript">Groovy Interface</a></li>   
 <li><a href="#single">Single Record Files</a></li>
 <li><a href="#Multi">Multi-Record File</a><ul>
   <li><a href="#BasicMulti">Basic Multi-Record File</a></li>
   <li><a href="#Hierarchy">Record Hierarchy</a></li>
   <li><a href="#Array">Array Checks</a></li>
 </ul></li>
 <li><A NAME="TocRecordEditor" HREF="#RecordEditor" >RecordEditor</A><ul>
   <li><A NAME="TocGenCode" HREF="#GenCode" >Starting Code Generation</A></li>
 </ul></li>
</ul> 
<h3>Introduction</h3>
<p>The Cobol2Xml package was written as a replacement for <b>Data2Xml</b> and <b>Xml2Data</b> programs in the
<a href id="https://sourceforge.net/projects/cb2xml/">cb2xml</a> project.
<p>The Cobol2Xml package provides both Batch (<b>Data2Xml</b> and <b>Xml2Data</b>) and Java / JVM scripting interfaces.
If you are doing a lot of small file conversions, the java / JVM-Scripting should be a bit more efficient.
<p>Finally I will look at creating a separate project for Cobol2Xml.
<h2><a id="batch">Batch interface: Data2Xml and Xml2Data</a></h2>
<p><b>Cobol</b>-data files can converted to/from <b>Xml</b> in bat/shell script/terminal using the 2 programs <b>Data2Xml</b> and <b>Xml2Data</b>.

<pre>
<font color="blue">Simple <b>Cobol file</b> to <b>Xml</b> conversion:</font>

   java -cp ../cb2xml.jar;../JRecord.jar;../Cobol2Xml.jar   net.sf.JRecord.cbl2xml.Data2Xml -cobol DTAR020.cbl -font cp037 -fileOrganisation FixedWidth ^
                             -input in/DTAR020.bin   ^
                             -output out/DTAR020_A.xml
                             
<font color="blue"><b>Multi-Record Cobol File</b> to <b>Xml</b> conversion:</font>

   java -cp ../cb2xml.jar;../JRecord.jar;../Cobol2Xml.jar   net.sf.JRecord.cbl2xml.Data2Xml -cobol amsPoDownload.cbl -fileOrganisation text  ^
                                 -split 01 ^
                                 -recordSelection PO-Record        Record-Type=H1 ^
                                 -recordSelection Product-Record   Record-Type=D1  -recordParent Product-Record  PO-Record ^
                                 -recordSelection Location-Record  Record-Type=S1  -recordParent Location-Record Product-Record  ^
                             -input  in/Ams_PODownload_20041231.txt   ^
                             -output out/Ams_PODownload_20041231_bat_Tree.xml
                             
<font color="blue">Simple <b>Xml</b> to <b>Cobol file</b> conversion:</font>

   java -cp ../cb2xml.jar;../JRecord.jar;../Cobol2Xml.jar   net.sf.JRecord.cbl2xml.Xml2Data ^
                       -cobol DTAR020.cbl -font cp037 -fileOrganisation FixedWidth ^
                       -input in/DTAR020.xml ^
                       -output out/DTAR020_A.bin
</pre>                             
                             
<h3>Limitations of Data2Xml and Xml2Data</h3>

<ul>
 <li>Redefines can cause problems in Data2Xml</li>
 <li>Xml2Data does not support Duplicate field names.</li>
</ul>

<p>If there is enough interest, I will look at enhancing the programs.

<h3>Advantages / differences from <b>cb2xml's</b> Dat2Xml and Xml2Dat</h3>
<p>Advantages over cb2xml equivalents:</p><ul>
 <li>Can handle very large files.</li>
 <li>Supports binary files (FB / VB formats) as well as text.</li>
 <li>Better handling of Numeric fields</li>
 <li>Support for binary fields (comp / comp-3)</li>
 <li>Support for Occurs depending on</li>
 <li>Support for Multiple-Record Types in the file</li>
 <li>Logical hierarchy between records is supported</li>
</ul>
                         
<p>Differences from <b>cb2xml's</b> Dat2Xml and Xml2Dat:
<ul>
 <li>&lt;Fieldname&gt;&lt;/Fieldname&gt; can be Written as &lt;Fieldname/&gt;</li>                             
 <li>Trailing spaces are dropped from Text fields. This could result in &lt;Fieldname&gt;&nbsp;&lt;/Fieldname&gt; becoming &lt;Fieldname/&gt;</li>
 <li>Leading spaces / zero's are dropped from numeric fields.</li>
</ul>

<h3>Program Options for Data2Xml and Xml2Data</h3>            
<p>These are the options you can use when calling <b>Data2Xml</b> and <b>Xml2Data</b>
from <a href="example/data2xml.sh">shell script</a> or <a href="example/data2xml.bat">Windows bat file</a></p>
<pre>
 
           <font color="blue">-cobol	</font>- Cobol  copybook used to "interpret" the data (you must supply either a cobol or cb2xml copybook
           <font color="blue">-cb2xml	</font>- Cb2xml copybook used to "interpret" the data
             
           <font color="blue">-input	</font>- Input file
           <font color="blue">-output	</font>- Output file
           <font color="blue">-font  	</font>- Characterset used in the Cobol data file (e.g. IBM037 for US-EBCIDIC)

           <font color="blue">-dropCopybookName	</font>- (true/false) wether to drop the cobol copybook name from the start of the Xml Tags

           <font color="blue">-mainXmlTag     	</font>- The outermost Xml tag to use (default coboldata)    
           
           <font color="blue">-tagFormat     	</font>- How Cobol Variable names are reformated to Xml tags:
                <b>Asis    	</b>- Use the Cobol Variable name
                <b>Underscore	</b>- Convert - to _,         COBOL-VAR-NAME ==> COBOL_VAR_NAME
                <b>CamelCase	</b>- Convert to Camel Case,  COBOL-VAR-NAME ==> cobolVarName
                              	
           <font color="blue">-fileOrganisation	</font>- "file organization" of the Cobol data file
		<b>Text    	</b>- Standard Windows/Unix text file (single byte character-set)
		<b>FixedWidth	</b>- File where lines (records) are the same length no \n                                          
		<b>Mainframe_VB	</b>- Mainframe VB, file consists of &lt;record-length&gt;&lt;record-data&gt;
		<b>GNUCobol_VB	</b>- GNU Cobol VB, file consists of &lt;record-length&gt;&lt;record-data&gt;

           <font color="blue">-dialect	</font>- Cobol Dialect
		<b>Mainframe	</b>- Mainframe cobol
		<b>Futjitsu	</b>- Fujitsu PC cobol
		<b>GNUCobol	</b>- GNU Cobol (little endian, ie intel)
		<b>GNUCobolBE	</b>- GNU Cobol (big endian, ie IBM, Sun(oracle))

          <font color="blue">-split	</font>- Option for Splitting Copybook into seperate records 
		<b>None   	</b>- No Split
		<b>01     	</b>- Split on 01
		<b>Highest	</b>- On Highest Repeating

          <font color="blue">-recordSelection	</font>- Record Selection, can be used multiple time, 
                                format: <b>-recordSelection RecordName field=value</b>

          <font color="blue">-recordParent   	</font>- Record Parent, can be used multiple time, 
                               format: <b>-recordParent    RecordName ParentRecord</b>

          <font color="blue">-formatText	</font>- how to format output:
		<b>usePlus</b> for numeric fields use '+' (as well as minus)
  
</pre>
<h3><a id="java">Java Interface</a></h3>
You can run the Cobol <==> Xml process via the following methods of Cobol2Xml class:
<pre>

    Cobol2Xml.<font color="#9966ff">newCobol2Xml</font><font color="#000000"><strong>(</strong></font>CobolCopybook<font color="#000000"><strong>)</strong></font>
    Cobol2Xml.<font color="#9966ff">newCobol2Xml</font><font color="#000000"><strong>(</strong></font>CobolCopybookInputStream, Copybook name<font color="#000000"><strong>)</strong></font>
    Cobol2Xml.<font color="#9966ff">newCb2Xml2Xml</font><font color="#000000"><strong>(</strong></font>Cb2xmlCopybook<font color="#000000"><strong>)</strong></font>
    Cobol2Xml.<font color="#9966ff">newCb2Xml2Xml</font><font color="#000000"><strong>(</strong></font>Cb2xmlCopybookInputStream, CopybookName<font color="#000000"><strong>)</strong></font>
    
    
</pre>

<p>A sample call:</p>

<pre><font color="#000000"><span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   1 </font></span>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   2 </font></span>    Cobol2Xml.<font color="#9966ff">newCobol2Xml</font><font color="#000000"><strong>(</strong></font>opts.cobolCopybook<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   3 </font></span>                  .<font color="#9966ff">setFont</font><font color="#000000"><strong>(</strong></font>opts.font<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   4 </font></span>                  .<font color="#9966ff">setFileOrganization</font><font color="#000000"><strong>(</strong></font>opts.fileOrganisation<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">   5 </font></span>                  .<font color="#9966ff">setDialect</font><font color="#000000"><strong>(</strong></font>opts.dialect<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   6 </font></span>                  .<font color="#9966ff">setDropCopybookNameFromFields</font><font color="#000000"><strong>(</strong></font>opts.dropCopybookName<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   7 </font></span>                  .<font color="#9966ff">setXmlMainElement</font><font color="#000000"><strong>(</strong></font>opts.mainXmlTag<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   8 </font></span>             .<font color="#9966ff">cobol2xml</font><font color="#000000"><strong>(</strong></font>opts.inputFile, opts.outputFile<font color="#000000"><strong>)</strong></font>;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   9 </font></span>
</font></pre>
</body>
<h3>Multi-Record Support in Java</h3>

<p>When using Multiple record (Cobol-Data ==>> Xml) you must set-up record selection (so the program know which record it is reading/writng !!):

<pre><font color="#000000"><span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   1 </font></span>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   2 </font></span>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   3 </font></span>        Cobol2GroupXml.<font color="#9966ff">newCobol2Xml</font><font color="#000000"><strong>(</strong></font>copybookFileName<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   4 </font></span>                          .<font color="#9966ff">setFileOrganization</font><font color="#000000"><strong>(</strong></font>Constants.IO_BIN_TEXT<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">   5 </font></span>                          .<font color="#9966ff">setDialect</font><font color="#000000"><strong>(</strong></font>ICopybookDialects.FMT_INTEL<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   6 </font></span>                          .<font color="#9966ff">setSplitCopybook</font><font color="#000000"><strong>(</strong></font>CopybookLoader.SPLIT_01_LEVEL<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   7 </font></span>                              .<font color="#9966ff">setRecordSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">PO</font><font color="#ff00cc">-</font><font color="#ff00cc">Record</font><font color="#ff00cc">&quot;</font>, <font color="#9966ff">newFieldSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Record</font><font color="#ff00cc">-</font><font color="#ff00cc">Type</font><font color="#ff00cc">&quot;</font>,<font color="#ff00cc">&quot;</font><font color="#ff00cc">H1</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   8 </font></span>                              .<font color="#9966ff">setRecordSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Product</font><font color="#ff00cc">-</font><font color="#ff00cc">Record</font><font color="#ff00cc">&quot;</font>, <font color="#9966ff">newFieldSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Record</font><font color="#ff00cc">-</font><font color="#ff00cc">Type</font><font color="#ff00cc">&quot;</font>,<font color="#ff00cc">&quot;</font><font color="#ff00cc">D1</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   9 </font></span>                              .<font color="#9966ff">setRecordSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Location</font><font color="#ff00cc">-</font><font color="#ff00cc">Record</font><font color="#ff00cc">&quot;</font>, <font color="#9966ff">newFieldSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Record</font><font color="#ff00cc">-</font><font color="#ff00cc">Type</font><font color="#ff00cc">&quot;</font>,<font color="#ff00cc">&quot;</font><font color="#ff00cc">S1</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">  10 </font></span>                      .<font color="#9966ff">cobol2xml</font><font color="#000000"><strong>(</strong></font><font color="#006699"><strong>new</strong></font> <font color="#9966ff">FileInputStream</font><font color="#000000"><strong>(</strong></font>dataFileName<font color="#000000"><strong>)</strong></font>, os<font color="#000000"><strong>)</strong></font>;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">  11 </font></span>
</font></pre>

<p>or</p>

<pre><font color="#000000"><span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   1 </font></span>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   2 </font></span>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   3 </font></span>        Cobol2GroupXml.<font color="#9966ff">newCobol2Xml</font><font color="#000000"><strong>(</strong></font>copybookFileName<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   4 </font></span>                          .<font color="#9966ff">setFileOrganization</font><font color="#000000"><strong>(</strong></font>Constants.IO_BIN_TEXT<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">   5 </font></span>                          .<font color="#9966ff">setDialect</font><font color="#000000"><strong>(</strong></font>ICopybookDialects.FMT_INTEL<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   6 </font></span>                          .<font color="#9966ff">setSplitCopybook</font><font color="#000000"><strong>(</strong></font>CopybookLoader.SPLIT_01_LEVEL<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   7 </font></span>                              .<font color="#9966ff">setRecordPositionCode</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Header</font><font color="#ff00cc">-</font><font color="#ff00cc">Record</font><font color="#ff00cc">&quot;</font>,  Options.RP_FIRST_RECORD_IN_FILE<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   8 </font></span>                              .<font color="#9966ff">setRecordPositionCode</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Detail</font><font color="#ff00cc">-</font><font color="#ff00cc">Record</font><font color="#ff00cc">&quot;</font>,  Options.RP_MIDDLE_RECORDS<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">   9 </font></span>                              .<font color="#9966ff">setRecordPositionCode</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Trailer</font><font color="#ff00cc">-</font><font color="#ff00cc">Record</font><font color="#ff00cc">&quot;</font>, Options.RP_LAST_RECORD_IN_FILE<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">  10 </font></span>                      .<font color="#9966ff">cobol2xml</font><font color="#000000"><strong>(</strong></font><font color="#006699"><strong>new</strong></font> <font color="#9966ff">FileInputStream</font><font color="#000000"><strong>(</strong></font>dataFileName<font color="#000000"><strong>)</strong></font>, os<font color="#000000"><strong>)</strong></font>;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">  11 </font></span>
</font></pre>

<p>In the above code, <b>newFieldSelection</b> is defined as:</p>

<pre><font color="#000000"><span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">20 </font></span>    <font color="#009966"><strong>private</strong></font> <font color="#009966"><strong>static</strong></font> ExternalFieldSelection <font color="#9966ff">newFieldSelection</font><font color="#000000"><strong>(</strong></font>String fieldName, String value<font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">21 </font></span>        ExternalFieldSelection r <font color="#000000"><strong>=</strong></font> <font color="#006699"><strong>new</strong></font> <font color="#9966ff">ExternalFieldSelection</font><font color="#000000"><strong>(</strong></font>fieldName, value<font color="#000000"><strong>)</strong></font>;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">22 </font></span>        r.<font color="#9966ff">setCaseSensitive</font><font color="#000000"><strong>(</strong></font><font color="#cc00cc">false</font><font color="#000000"><strong>)</strong></font>;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">23 </font></span>        <font color="#006699"><strong>return</strong></font> r;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">24 </font></span>    <font color="#000000"><strong>}</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">25 </font></span>
</font></pre>   

<h2><a id="const">Scripting support</a></h2>
<p>Using one of the JVM scripting languages (Groovy, Java-Script (jjs), Jython, JReuby, kotlin etc) offers much greater
flexibity and possibly better performance than the Batch interface (Data2Xml, Xml2Data).</p>
<p>To make it easier to call Cobol2Xml from JVM scripting languages, a static variable <b>JR_CONSTANTS</b> to the <b>Cobol2Xml</b> class:</p>

<pre>
<font color="#000000"><span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">20 </font></span>    <font color="#cc0000">/*</font><font color="#cc0000"> </font><font color="#cc0000">----------------------------------------------------------------------</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">21 </font></span><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000">*</font><font color="#cc0000"> </font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">22 </font></span><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000">*</font><font color="#cc0000"> </font><font color="#cc0000">Cobol</font><font color="#cc0000"> </font><font color="#cc0000">Dialects:</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">23 </font></span><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000">*/</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">24 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> FMT_MAINFRAME        <font color="#000000"><strong>=</strong></font> ICopybookDialects.FMT_MAINFRAME; 
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">25 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> FMT_FUJITSU          <font color="#000000"><strong>=</strong></font> ICopybookDialects.FMT_FUJITSU; 
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">26 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> FMT_BIG_ENDIAN       <font color="#000000"><strong>=</strong></font> ICopybookDialects.FMT_BIG_ENDIAN; 
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">27 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> FMT_FS2000           <font color="#000000"><strong>=</strong></font> ICopybookDialects.FMT_FS2000; 
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">28 </font></span>                                         
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">29 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> FMT_FS2000_BE        <font color="#000000"><strong>=</strong></font> ICopybookDialects.FMT_FS2000_BE; 
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">30 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> FMT_MAINFRAME_COMMA_DECIMAL <font color="#000000"><strong>=</strong></font> ICopybookDialects.FMT_MAINFRAME_COMMA_DECIMAL;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">31 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> FMT_FUJITSU_COMMA_DECIMAL     <font color="#000000"><strong>=</strong></font> ICopybookDialects.FMT_FUJITSU_COMMA_DECIMAL;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">32 </font></span>       
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">33 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> FMT_GNU_COBOL        <font color="#000000"><strong>=</strong></font> ICopybookDialects.FMT_OPEN_COBOL_BE;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">34 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> FMT_GNU_COBOL_MVS    <font color="#000000"><strong>=</strong></font> ICopybookDialects.FMT_GNU_COBOL_MVS;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">35 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> FMT_GNU_COBOL_MF     <font color="#000000"><strong>=</strong></font> ICopybookDialects.FMT_GNU_COBOL_MF;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">36 </font></span>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">37 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> FMT_GNU_COBOL_BE     <font color="#000000"><strong>=</strong></font> ICopybookDialects.FMT_GNU_COBOL;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">38 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> FMT_GNU_COBOL_BE_MVS <font color="#000000"><strong>=</strong></font> ICopybookDialects.FMT_OPEN_COBOL_MVS_BE;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">39 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> FMT_GNU_COBOL_BE_MF  <font color="#000000"><strong>=</strong></font> ICopybookDialects.FMT_OC_MICRO_FOCUS_BE;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">40 </font></span>    
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">41 </font></span>    <font color="#cc0000">/*</font><font color="#cc0000"> </font><font color="#cc0000">-------------------------------------------------------------------------</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">42 </font></span><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000">*</font><font color="#cc0000"> </font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">43 </font></span><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000">*</font><font color="#cc0000"> </font><font color="#cc0000">Cobol</font><font color="#cc0000"> </font><font color="#cc0000">Copybook</font><font color="#cc0000"> </font><font color="#cc0000">split</font><font color="#cc0000"> </font><font color="#cc0000">options</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">44 </font></span><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000">*/</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">45 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> SPLIT_NONE              <font color="#000000"><strong>=</strong></font> ICobolSplitOptions.SPLIT_NONE;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">46 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> SPLIT_REDEFINE          <font color="#000000"><strong>=</strong></font> ICobolSplitOptions.SPLIT_REDEFINE;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">47 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> SPLIT_01_LEVEL          <font color="#000000"><strong>=</strong></font> ICobolSplitOptions.SPLIT_01_LEVEL;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">48 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> SPLIT_HIGHEST_REPEATING <font color="#000000"><strong>=</strong></font> ICobolSplitOptions.SPLIT_HIGHEST_REPEATING; 
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">49 </font></span>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">50 </font></span>    <font color="#cc0000">/*</font><font color="#cc0000"> </font><font color="#cc0000">------------------------------------------------------------------------</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">51 </font></span><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000">*</font><font color="#cc0000"> </font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">52 </font></span><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000">*</font><font color="#cc0000"> </font><font color="#cc0000">IO</font><font color="#cc0000"> </font><font color="#cc0000">Options</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">53 </font></span><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000">*/</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">54 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_STANDARD_TEXT_FILE     <font color="#000000"><strong>=</strong></font> Constants.IO_STANDARD_TEXT_FILE;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">55 </font></span>                                                   
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">56 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_FIXED_LENGTH_RECORDS <font color="#000000"><strong>=</strong></font> Constants.IO_FIXED_LENGTH_RECORDS;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">57 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_BINARY_IBM_4680         <font color="#000000"><strong>=</strong></font> Constants.IO_BINARY_IBM_4680;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">58 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_VB                      <font color="#000000"><strong>=</strong></font> Constants.IO_VB;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">59 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_VB_DUMP                 <font color="#000000"><strong>=</strong></font> Constants.IO_VB_DUMP;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">60 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_VB_FUJITSU              <font color="#000000"><strong>=</strong></font> Constants.IO_VB_FUJITSU;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">61 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_VB_OPEN_COBOL           <font color="#000000"><strong>=</strong></font> Constants.IO_VB_OPEN_COBOL;                                                                               
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">62 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_BIN_TEXT                <font color="#000000"><strong>=</strong></font> Constants.IO_BIN_TEXT;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">63 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_FIXED_LENGTH_CHAR       <font color="#000000"><strong>=</strong></font> Constants.IO_FIXED_LENGTH_CHAR                ;                                                                                          
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">64 </font></span>                                                                                                
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">65 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_CONTINOUS_NO_LINE_MARKER<font color="#000000"><strong>=</strong></font> Constants.IO_CONTINOUS_NO_LINE_MARKER;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">66 </font></span>                                                                                                 
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">67 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_CSV                     <font color="#000000"><strong>=</strong></font> Constants.IO_CSV;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">68 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_BIN_CSV                 <font color="#000000"><strong>=</strong></font> Constants.IO_BIN_CSV;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">69 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_UNICODE_CSV             <font color="#000000"><strong>=</strong></font> Constants.IO_UNICODE_CSV;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">70 </font></span>                                                                                        
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">71 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_CSV_NAME_1ST_LINE       <font color="#000000"><strong>=</strong></font> Constants.IO_CSV_NAME_1ST_LINE                ;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">72 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_BIN_CSV_NAME_1ST_LINE   <font color="#000000"><strong>=</strong></font> Constants.IO_BIN_CSV_NAME_1ST_LINE;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">73 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_UNICODE_CSV_NAME_1ST_LINE <font color="#000000"><strong>=</strong></font> Constants.IO_UNICODE_CSV_NAME_1ST_LINE            ;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">74 </font></span>                                                                                        
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">75 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_NAME_1ST_LINE         <font color="#000000"><strong>=</strong></font> Constants.IO_NAME_1ST_LINE;        
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">76 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_BIN_NAME_1ST_LINE     <font color="#000000"><strong>=</strong></font> Constants.IO_BIN_NAME_1ST_LINE                ;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">77 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_UNICODE_NAME_1ST_LINE <font color="#000000"><strong>=</strong></font> Constants.IO_UNICODE_NAME_1ST_LINE;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">78 </font></span>                                                                                        
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">79 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_STANDARD_UNICODE_TEXT_FIL <font color="#000000"><strong>=</strong></font> Constants.IO_STANDARD_UNICODE_TEXT_FILE        ;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">80 </font></span>    
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">81 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_UNICODE_TEXT    <font color="#000000"><strong>=</strong></font> Constants.IO_UNICODE_TEXT;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">82 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_FIXED_LENGTH    <font color="#000000"><strong>=</strong></font> Constants.IO_FIXED_LENGTH;                                          
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">83 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> IO_TEXT_LINE       <font color="#000000"><strong>=</strong></font> Constants.IO_TEXT_LINE;    
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">84 </font></span>    
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">85 </font></span>    
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">86 </font></span>    <font color="#cc0000">/*</font><font color="#cc0000"> </font><font color="#cc0000">------------------------------------------------------------------------------</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">87 </font></span><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000">*</font><font color="#cc0000"> </font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">88 </font></span><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000">*</font><font color="#cc0000"> </font><font color="#cc0000">Option</font><font color="#cc0000"> </font><font color="#cc0000">to</font><font color="#cc0000"> </font><font color="#cc0000">reformat</font><font color="#cc0000"> </font><font color="#cc0000">Cobol</font><font color="#cc0000"> </font><font color="#cc0000">names</font><font color="#cc0000"> </font><font color="#cc0000">when</font><font color="#cc0000"> </font><font color="#cc0000">converting</font><font color="#cc0000"> </font><font color="#cc0000">to</font><font color="#cc0000"> </font><font color="#cc0000">other</font><font color="#cc0000"> </font><font color="#cc0000">languages</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">89 </font></span><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000">*</font><font color="#cc0000"> </font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">90 </font></span><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000">*/</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">91 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> RO_LEAVE_ASIS <font color="#000000"><strong>=</strong></font> IReformatFieldNames.RO_LEAVE_ASIS;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">92 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> RO_MINUS_TO_UNDERSCORE <font color="#000000"><strong>=</strong></font> IReformatFieldNames.RO_UNDERSCORE; 
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">93 </font></span>    <font color="#009966"><strong>public</strong></font> <font color="#009966"><strong>final</strong></font> <font color="#0099ff"><strong>int</strong></font> RO_CAMEL_CASE <font color="#000000"><strong>=</strong></font> IReformatFieldNames.RO_CAMEL_CASE;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">94 </font></span>
</font></pre>

<h2><a id="JavaScript">Java Script Interface</a></h2>
<p>Java 8 comes with a Java-Script interpreter (jjs) which can be used to                                  
call Cobol2Xml / Xml2Cobol programs. See <a href="CobolDataXml.jjs">CobolDataXml.jjs</a> for an
example. </p>

<p>All the javascript examples start with:</p>
<pre>
<span class="gutter">13 </span>    <span class="syntax-KEYWORD1">var</span> Cobol2Xml <span class="syntax-OPERATOR">=</span> Java<span class="syntax-OPERATOR">.</span><span class="syntax-FUNCTION">type</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">net.sf.JRecord.cbl2xml.Cobol2Xml</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>
<span class="gutter">14 </span>    <span class="syntax-KEYWORD1">var</span> constants <span class="syntax-OPERATOR">=</span> Cobol2Xml<span class="syntax-OPERATOR">.</span>JR_CONSTANTS
<span class="gutterH">15 </span> 
</span></pre>




<p>Basically to convert a Cobol-Data file to Xml, you do:</p>

<pre><font color="#000000"><span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">18 </font></span>    <font color="#006699"><strong>var</strong></font> dtar020Xml<font color="#000000"><strong>=</strong></font> Cobol2Xml<font color="#000000"><strong>.</strong></font><font color="#9966ff">newCobol2Xml</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">DTAR020.cbl</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">19 </font></span>                             <font color="#000000"><strong>.</strong></font><font color="#9966ff">setFileOrganization</font><font color="#000000"><strong>(</strong></font>constants<font color="#000000"><strong>.</strong></font>IO_FIXED_LENGTH_RECORDS<font color="#000000"><strong>)</strong></font> <font color="#ff8400">//</font><font color="#ff8400"> </font><font color="#ff8400">Fixed</font><font color="#ff8400"> </font><font color="#ff8400">Length</font><font color="#ff8400"> </font><font color="#ff8400">Record</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">20 </font></span>                             <font color="#000000"><strong>.</strong></font><font color="#9966ff">setDialect</font><font color="#000000"><strong>(</strong></font>constants<font color="#000000"><strong>.</strong></font>FMT_MAINFRAME<font color="#000000"><strong>)</strong></font>                    <font color="#ff8400">//</font><font color="#ff8400"> </font><font color="#ff8400">Mainframe</font><font color="#ff8400"> </font><font color="#ff8400">Cobol</font><font color="#ff8400"> </font><font color="#ff8400">(the</font><font color="#ff8400"> </font><font color="#ff8400">Default)</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">21 </font></span>                             <font color="#000000"><strong>.</strong></font><font color="#9966ff">setFont</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">cp037</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>;</strong></font>                                      <font color="#ff8400">//</font><font color="#ff8400"> </font><font color="#ff8400">US</font><font color="#ff8400"> </font><font color="#ff8400">EBCDIC</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">22 </font></span>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">23 </font></span>    dtar020Xml <font color="#000000"><strong>.</strong></font><font color="#9966ff">cobol2xml</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">in/DTAR020.bin</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>,</strong></font> <font color="#ff00cc">&quot;</font><font color="#ff00cc">out/DTAR020_JS.xml</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>;</strong></font>     <font color="#ff8400">//</font><font color="#ff8400"> </font><font color="#ff8400">Convert</font><font color="#ff8400"> </font><font color="#ff8400">a</font><font color="#ff8400"> </font><font color="#ff8400">DTAR020</font><font color="#ff8400"> </font><font color="#ff8400">file</font><font color="#ff8400"> </font><font color="#ff8400">to</font><font color="#ff8400"> </font><font color="#ff8400">Xml</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">24 </font></span>    dtar020Xml <font color="#000000"><strong>.</strong></font><font color="#9966ff">xml2Cobol</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">out/DTAR020_JS.xml</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>,</strong></font> <font color="#ff00cc">&quot;</font><font color="#ff00cc">out/DTAR020_JS.bin</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>;</strong></font> <font color="#ff8400">//</font><font color="#ff8400"> </font><font color="#ff8400">Convert</font><font color="#ff8400"> </font><font color="#ff8400">the</font><font color="#ff8400"> </font><font color="#ff8400">Xml</font><font color="#ff8400"> </font><font color="#ff8400">file</font><font color="#ff8400"> </font><font color="#ff8400">back</font><font color="#ff8400"> </font><font color="#ff8400">to</font><font color="#ff8400"> </font><font color="#ff8400">a</font><font color="#ff8400"> </font><font color="#ff8400">Binary</font><font color="#ff8400"> </font><font color="#ff8400">Cobol</font><font color="#ff8400"> </font><font color="#ff8400">file</font><font color="#ff8400"> </font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">25 </font></span>
</font></pre>

<p>The following Java-Script will convert a Multi-Record file into Xml</p>
<pre><font color="#000000"><span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">65 </font></span>    Cobol2Xml     <font color="#000000"><strong>.</strong></font><font color="#9966ff">newCobol2Xml</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">amsPoDownload.cbl</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">66 </font></span>                                             <font color="#ff8400">//</font><font color="#ff8400"> </font><font color="#ff8400">Set</font><font color="#ff8400"> </font><font color="#ff8400">Cobol</font><font color="#ff8400"> </font><font color="#ff8400">Copybook</font><font color="#ff8400"> </font><font color="#ff8400">Options</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">67 </font></span>                             <font color="#000000"><strong>.</strong></font><font color="#9966ff">setFileOrganization</font><font color="#000000"><strong>(</strong></font>constants<font color="#000000"><strong>.</strong></font>IO_UNICODE_TEXT<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">68 </font></span>                             <font color="#000000"><strong>.</strong></font><font color="#9966ff">setDialect</font><font color="#000000"><strong>(</strong></font>constants<font color="#000000"><strong>.</strong></font>FMT_FUJITSU<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">69 </font></span>                             <font color="#000000"><strong>.</strong></font><font color="#9966ff">setSplitCopybook</font><font color="#000000"><strong>(</strong></font>constants<font color="#000000"><strong>.</strong></font>SPLIT_01_LEVEL<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">70 </font></span>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">71 </font></span>                                             <font color="#ff8400">//</font><font color="#ff8400"> </font><font color="#ff8400">Tell</font><font color="#ff8400"> </font><font color="#ff8400">JRecord</font><font color="#ff8400"> </font><font color="#ff8400">how</font><font color="#ff8400"> </font><font color="#ff8400">determine</font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400">which</font><font color="#ff8400"> </font><font color="#ff8400">record</font><font color="#ff8400"> </font><font color="#ff8400">is</font><font color="#ff8400"> </font><font color="#ff8400">which</font><font color="#ff8400"> </font><font color="#ff8400">by</font><font color="#ff8400"> </font><font color="#ff8400">Testing</font><font color="#ff8400"> </font><font color="#ff8400">the</font><font color="#ff8400"> </font><font color="#ff8400">Record-Type</font><font color="#ff8400"> </font><font color="#ff8400">field</font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">72 </font></span>                             <font color="#000000"><strong>.</strong></font><font color="#9966ff">setRecordSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">PO-Record</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>,</strong></font>       Cobol2Xml<font color="#000000"><strong>.</strong></font><font color="#9966ff">newFieldSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Record-Type</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>,</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">H1</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">73 </font></span>                             <font color="#000000"><strong>.</strong></font><font color="#9966ff">setRecordSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Product-Record</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>,</strong></font>  Cobol2Xml<font color="#000000"><strong>.</strong></font><font color="#9966ff">newFieldSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Record-Type</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>,</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">D1</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">74 </font></span>                             <font color="#000000"><strong>.</strong></font><font color="#9966ff">setRecordSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Location-Record</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>,</strong></font> Cobol2Xml<font color="#000000"><strong>.</strong></font><font color="#9966ff">newFieldSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Record-Type</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>,</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">S1</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">75 </font></span>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">76 </font></span>                                             <font color="#ff8400">//</font><font color="#ff8400"> </font><font color="#ff8400">Define</font><font color="#ff8400"> </font><font color="#ff8400">parent</font><font color="#ff8400"> </font><font color="#ff8400">-</font><font color="#ff8400"> </font><font color="#ff8400">child</font><font color="#ff8400"> </font><font color="#ff8400">relationships</font><font color="#ff8400"> </font><font color="#ff8400">between</font><font color="#ff8400"> </font><font color="#ff8400">Records</font><font color="#ff8400"> </font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">77 </font></span>                             <font color="#000000"><strong>.</strong></font><font color="#9966ff">setRecordParent</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Product-Record</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>,</strong></font>  <font color="#ff00cc">&quot;</font><font color="#ff00cc">PO-Record</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font>      <font color="#ff8400">//</font><font color="#ff8400"> </font><font color="#ff8400">The</font><font color="#ff8400"> </font><font color="#ff8400">parent</font><font color="#ff8400"> </font><font color="#ff8400">of</font><font color="#ff8400"> </font><font color="#ff8400">Product-Record</font><font color="#ff8400"> </font><font color="#ff8400">is</font><font color="#ff8400"> </font><font color="#ff8400">PO-Record</font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font><font color="#ff8400"> </font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">78 </font></span>                             <font color="#000000"><strong>.</strong></font><font color="#9966ff">setRecordParent</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Location-Record</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>,</strong></font> <font color="#ff00cc">&quot;</font><font color="#ff00cc">Product-Record</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">79 </font></span>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">80 </font></span>                                             <font color="#ff8400">//</font><font color="#ff8400"> </font><font color="#ff8400">Convert</font><font color="#ff8400"> </font><font color="#ff8400">file</font><font color="#ff8400"> </font><font color="#ff8400">to</font><font color="#ff8400"> </font><font color="#ff8400">Xml</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">81 </font></span>                  <font color="#000000"><strong>.</strong></font><font color="#9966ff">cobol2xml</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">in/Ams_PODownload_20041231.txt</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>,</strong></font> <font color="#ff00cc">&quot;</font><font color="#ff00cc">out/Ams_PODownload_20041231_js_tree.xml</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>;</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">82 </font></span>
</font></pre>

<h2><a id="Groovy">Groovy Interface</a></h2>
<p>Calling Cbl2Xml in Groovy is the same as calling it from Java-Script. These examples where take from 
<a href="CobolDataXml.groovy">CobolDataXml.groovy</a>

<pre><font color="#000000"><span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">18 </font></span>    <font color="#009966"><strong>def</strong></font> dtar020Xml<font color="#000000"><strong>=</strong></font> Cobol2Xml.<font color="#9966ff">newCobol2Xml</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">DTAR020</font><font color="#ff00cc">.</font><font color="#ff00cc">cbl</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">19 </font></span>                             .<font color="#9966ff">setFileOrganization</font><font color="#000000"><strong>(</strong></font>constants.IO_FIXED_LENGTH_RECORDS<font color="#000000"><strong>)</strong></font> <font color="#cc0000">//</font><font color="#cc0000"> </font><font color="#cc0000">Fixed</font><font color="#cc0000"> </font><font color="#cc0000">Length</font><font color="#cc0000"> </font><font color="#cc0000">Record</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">20 </font></span>                             .<font color="#9966ff">setDialect</font><font color="#000000"><strong>(</strong></font>constants.FMT_MAINFRAME<font color="#000000"><strong>)</strong></font>                    <font color="#cc0000">//</font><font color="#cc0000"> </font><font color="#cc0000">Mainframe</font><font color="#cc0000"> </font><font color="#cc0000">Cobol</font><font color="#cc0000"> </font><font color="#cc0000">(the</font><font color="#cc0000"> </font><font color="#cc0000">Default)</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">21 </font></span>                             .<font color="#9966ff">setFont</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">cp037</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font>;                                      <font color="#cc0000">//</font><font color="#cc0000"> </font><font color="#cc0000">US</font><font color="#cc0000"> </font><font color="#cc0000">EBCDIC</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">22 </font></span>  
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">23 </font></span>    dtar020Xml .<font color="#9966ff">cobol2xml</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">in</font><font color="#ff00cc">/</font><font color="#ff00cc">DTAR020</font><font color="#ff00cc">.</font><font color="#ff00cc">bin</font><font color="#ff00cc">&quot;</font>, <font color="#ff00cc">&quot;</font><font color="#ff00cc">out</font><font color="#ff00cc">/</font><font color="#ff00cc">DTAR020_Groovy</font><font color="#ff00cc">.</font><font color="#ff00cc">xml</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font>;     <font color="#cc0000">//</font><font color="#cc0000"> </font><font color="#cc0000">Convert</font><font color="#cc0000"> </font><font color="#cc0000">a</font><font color="#cc0000"> </font><font color="#cc0000">DTAR020</font><font color="#cc0000"> </font><font color="#cc0000">file</font><font color="#cc0000"> </font><font color="#cc0000">to</font><font color="#cc0000"> </font><font color="#cc0000">Xml</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">24 </font></span>    dtar020Xml .<font color="#9966ff">xml2Cobol</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">out</font><font color="#ff00cc">/</font><font color="#ff00cc">DTAR020_Groovy</font><font color="#ff00cc">.</font><font color="#ff00cc">xml</font><font color="#ff00cc">&quot;</font>, <font color="#ff00cc">&quot;</font><font color="#ff00cc">out</font><font color="#ff00cc">/</font><font color="#ff00cc">DTAR020_Groovy</font><font color="#ff00cc">.</font><font color="#ff00cc">bin</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font>; <font color="#cc0000">//</font><font color="#cc0000"> </font><font color="#cc0000">Convert</font><font color="#cc0000"> </font><font color="#cc0000">the</font><font color="#cc0000"> </font><font color="#cc0000">Xml</font><font color="#cc0000"> </font><font color="#cc0000">file</font><font color="#cc0000"> </font><font color="#cc0000">back</font><font color="#cc0000"> </font><font color="#cc0000">to</font><font color="#cc0000"> </font><font color="#cc0000">a</font><font color="#cc0000"> </font><font color="#cc0000">Binary</font><font color="#cc0000"> </font><font color="#cc0000">Cobol</font><font color="#cc0000"> </font><font color="#cc0000">file</font><font color="#cc0000"> </font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">25 </font></span>
</font></pre>

<p>To convert a multi-record file:

<pre><font color="#000000"><span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">65 </font></span>    Cobol2Xml     .<font color="#9966ff">newCobol2Xml</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">amsPoDownload</font><font color="#ff00cc">.</font><font color="#ff00cc">cbl</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">66 </font></span>                                             <font color="#cc0000">//</font><font color="#cc0000"> </font><font color="#cc0000">Set</font><font color="#cc0000"> </font><font color="#cc0000">Cobol</font><font color="#cc0000"> </font><font color="#cc0000">Copybook</font><font color="#cc0000"> </font><font color="#cc0000">Options</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">67 </font></span>                             .<font color="#9966ff">setFileOrganization</font><font color="#000000"><strong>(</strong></font>constants.IO_UNICODE_TEXT<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">68 </font></span>                             .<font color="#9966ff">setDialect</font><font color="#000000"><strong>(</strong></font>constants.FMT_FUJITSU<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">69 </font></span>                             .<font color="#9966ff">setSplitCopybook</font><font color="#000000"><strong>(</strong></font>constants.SPLIT_01_LEVEL<font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">70 </font></span>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">71 </font></span>                                             <font color="#cc0000">//</font><font color="#cc0000"> </font><font color="#cc0000">Tell</font><font color="#cc0000"> </font><font color="#cc0000">JRecord</font><font color="#cc0000"> </font><font color="#cc0000">how</font><font color="#cc0000"> </font><font color="#cc0000">determine</font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000">which</font><font color="#cc0000"> </font><font color="#cc0000">record</font><font color="#cc0000"> </font><font color="#cc0000">is</font><font color="#cc0000"> </font><font color="#cc0000">which</font><font color="#cc0000"> </font><font color="#cc0000">by</font><font color="#cc0000"> </font><font color="#cc0000">Testing</font><font color="#cc0000"> </font><font color="#cc0000">the</font><font color="#cc0000"> </font><font color="#cc0000">Record-Type</font><font color="#cc0000"> </font><font color="#cc0000">field</font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">72 </font></span>                             .<font color="#9966ff">setRecordSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">PO</font><font color="#ff00cc">-</font><font color="#ff00cc">Record</font><font color="#ff00cc">&quot;</font>,       Cobol2Xml.<font color="#9966ff">newFieldSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Record</font><font color="#ff00cc">-</font><font color="#ff00cc">Type</font><font color="#ff00cc">&quot;</font>,<font color="#ff00cc">&quot;</font><font color="#ff00cc">H1</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">73 </font></span>                             .<font color="#9966ff">setRecordSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Product</font><font color="#ff00cc">-</font><font color="#ff00cc">Record</font><font color="#ff00cc">&quot;</font>,  Cobol2Xml.<font color="#9966ff">newFieldSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Record</font><font color="#ff00cc">-</font><font color="#ff00cc">Type</font><font color="#ff00cc">&quot;</font>,<font color="#ff00cc">&quot;</font><font color="#ff00cc">D1</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">74 </font></span>                             .<font color="#9966ff">setRecordSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Location</font><font color="#ff00cc">-</font><font color="#ff00cc">Record</font><font color="#ff00cc">&quot;</font>, Cobol2Xml.<font color="#9966ff">newFieldSelection</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Record</font><font color="#ff00cc">-</font><font color="#ff00cc">Type</font><font color="#ff00cc">&quot;</font>,<font color="#ff00cc">&quot;</font><font color="#ff00cc">S1</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">75 </font></span>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">76 </font></span>                                             <font color="#cc0000">//</font><font color="#cc0000"> </font><font color="#cc0000">Define</font><font color="#cc0000"> </font><font color="#cc0000">parent</font><font color="#cc0000"> </font><font color="#cc0000">-</font><font color="#cc0000"> </font><font color="#cc0000">child</font><font color="#cc0000"> </font><font color="#cc0000">relationships</font><font color="#cc0000"> </font><font color="#cc0000">between</font><font color="#cc0000"> </font><font color="#cc0000">Records</font><font color="#cc0000"> </font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">77 </font></span>                             .<font color="#9966ff">setRecordParent</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Product</font><font color="#ff00cc">-</font><font color="#ff00cc">Record</font><font color="#ff00cc">&quot;</font>,  <font color="#ff00cc">&quot;</font><font color="#ff00cc">PO</font><font color="#ff00cc">-</font><font color="#ff00cc">Record</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font>      <font color="#cc0000">//</font><font color="#cc0000"> </font><font color="#cc0000">The</font><font color="#cc0000"> </font><font color="#cc0000">parent</font><font color="#cc0000"> </font><font color="#cc0000">of</font><font color="#cc0000"> </font><font color="#cc0000">Product-Record</font><font color="#cc0000"> </font><font color="#cc0000">is</font><font color="#cc0000"> </font><font color="#cc0000">PO-Record</font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font><font color="#cc0000"> </font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">78 </font></span>                             .<font color="#9966ff">setRecordParent</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">Location</font><font color="#ff00cc">-</font><font color="#ff00cc">Record</font><font color="#ff00cc">&quot;</font>, <font color="#ff00cc">&quot;</font><font color="#ff00cc">Product</font><font color="#ff00cc">-</font><font color="#ff00cc">Record</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">79 </font></span>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">80 </font></span>                                             <font color="#cc0000">//</font><font color="#cc0000"> </font><font color="#cc0000">Convert</font><font color="#cc0000"> </font><font color="#cc0000">file</font><font color="#cc0000"> </font><font color="#cc0000">to</font><font color="#cc0000"> </font><font color="#cc0000">Xml</font>
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">81 </font></span>                  .<font color="#9966ff">cobol2xml</font><font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">in</font><font color="#ff00cc">/</font><font color="#ff00cc">Ams_PODownload_20041231</font><font color="#ff00cc">.</font><font color="#ff00cc">txt</font><font color="#ff00cc">&quot;</font>, <font color="#ff00cc">&quot;</font><font color="#ff00cc">out</font><font color="#ff00cc">/</font><font color="#ff00cc">Ams_PODownload_20041231_Groovy_tree</font><font color="#ff00cc">.</font><font color="#ff00cc">xml</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font>;
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">82 </font></span>
</font></pre>

<h2><a id="single">Single Record Files</a></h2>
<p>For a single record file like:

<pre><font color="#000000"><span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000"> 9 </font></span><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font>      <font color="#ff0000">03</font>  DTAR020-KCODE-STORE-KEY.
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">10 </font></span><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font>          <font color="#ff0000">05</font> DTAR020-KEYCODE-NO      <font color="#006699"><strong>Pic</strong></font> X(<font color="#ff0000">08</font>).                
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">11 </font></span><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font>          <font color="#ff0000">05</font> DTAR020-STORE-NO        <font color="#006699"><strong>PIC</strong></font> S9(<font color="#ff0000">03</font>)   <font color="#006699"><strong>COMP-3</strong></font>.
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">12 </font></span><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font>      <font color="#ff0000">03</font>  DTAR020-DATE               <font color="#006699"><strong>PIC</strong></font> S9(<font color="#ff0000">07</font>)   <font color="#006699"><strong>COMP-3</strong></font>.     
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">13 </font></span><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font>      <font color="#ff0000">03</font>  DTAR020-DEPT-NO            <font color="#006699"><strong>PIC</strong></font> S9(<font color="#ff0000">03</font>)   <font color="#006699"><strong>COMP-3</strong></font>.
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">14 </font></span><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font>      <font color="#ff0000">03</font>  DTAR020-QTY-SOLD           <font color="#006699"><strong>PIC</strong></font> S9(<font color="#ff0000">9</font>)    <font color="#006699"><strong>COMP-3</strong></font>.
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#990066">15 </font></span><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font>      <font color="#ff0000">03</font>  DTAR020-SALE-PRICE         <font color="#006699"><strong>PIC</strong></font> S9(<font color="#ff0000">9</font>)V99 <font color="#006699"><strong>COMP-3</strong></font>.
<span style="background:#dbdbdb; border-right:solid 2px black; margin-right:5px; "><font color="#000000">16 </font></span><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font><font color="#cc6600"> </font>      
</font></pre>

<p>To convert a file from Cobol to Xml:
<pre>
<b>bat file:</b>

java -cp ../cb2xml.jar;../JRecord.jar;../Cobol2Xml.jar   net.sf.JRecord.cbl2xml.Data2Xml ^
                             -cobol DTAR020.cbl -font cp037 -fileOrganisation FixedWidth ^
                             -input in/DTAR020.bin   ^
                             -output out/DTAR020_A.xml                                                                                                                                                                                                                                                                                                                                            

<b>Groovy:</b>

<span class="syntax0"><span class="gutter">12 </span>   <span class="syntax-KEYWORD2">def</span> dtar020Xml<span class="syntax-OPERATOR">=</span> Cobol2Xml.<span class="syntax-FUNCTION">newCobol2Xml</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">DTAR020</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">cbl</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>
<span class="gutter">13 </span>                            .<span class="syntax-FUNCTION">setFileOrganization</span><span class="syntax-OPERATOR">(</span>constants.IO_FIXED_LENGTH_RECORDS<span class="syntax-OPERATOR">)</span> 
<span class="gutter">14 </span>                            .<span class="syntax-FUNCTION">setDialect</span><span class="syntax-OPERATOR">(</span>constants.FMT_MAINFRAME<span class="syntax-OPERATOR">)</span>                    
<span class="gutterH">15 </span>                            .<span class="syntax-FUNCTION">setFont</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">cp037</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>;                                      
<span class="gutter">16 </span>
</span>

<b>Output:</b>


<span class="syntax0"><span class="gutter">   1 </span><span class="syntax-KEYWORD3">&lt;?</span><span class="syntax-KEYWORD3">xml</span><span class="syntax-KEYWORD3"> </span><span class="syntax-KEYWORD3">version=&quot;1.0&quot;</span><span class="syntax-KEYWORD3"> </span><span class="syntax-KEYWORD3">encoding=&quot;UTF-8&quot;?</span><span class="syntax-KEYWORD3">&gt;</span>
<span class="gutter">   2 </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">copybook</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">   3 </span>    <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Line</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">   4 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">DTAR020-KCODE-STORE-KEY</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH">   5 </span>            <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">DTAR020-KEYCODE-NO</span><span class="syntax-MARKUP">&gt;</span>69684558<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">DTAR020-KEYCODE-NO</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">   6 </span>            <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">DTAR020-STORE-NO</span><span class="syntax-MARKUP">&gt;</span>20<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">DTAR020-STORE-NO</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">   7 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">DTAR020-KCODE-STORE-KEY</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">   8 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">DTAR020-DATE</span><span class="syntax-MARKUP">&gt;</span>40118<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">DTAR020-DATE</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">   9 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">DTAR020-DEPT-NO</span><span class="syntax-MARKUP">&gt;</span>280<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">DTAR020-DEPT-NO</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH">  10 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">DTAR020-QTY-SOLD</span><span class="syntax-MARKUP">&gt;</span>1<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">DTAR020-QTY-SOLD</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  11 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">DTAR020-SALE-PRICE</span><span class="syntax-MARKUP">&gt;</span>19.00<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">DTAR020-SALE-PRICE</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  12 </span>    <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Line</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  13 </span>    <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Line</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  14 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">DTAR020-KCODE-STORE-KEY</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH">  15 </span>            <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">DTAR020-KEYCODE-NO</span><span class="syntax-MARKUP">&gt;</span>69684558<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">DTAR020-KEYCODE-NO</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  16 </span>            <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">DTAR020-STORE-NO</span><span class="syntax-MARKUP">&gt;</span>20<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">DTAR020-STORE-NO</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  17 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">DTAR020-KCODE-STORE-KEY</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  18 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">DTAR020-DATE</span><span class="syntax-MARKUP">&gt;</span>40118<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">DTAR020-DATE</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  19 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">DTAR020-DEPT-NO</span><span class="syntax-MARKUP">&gt;</span>280<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">DTAR020-DEPT-NO</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH">  20 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">DTAR020-QTY-SOLD</span><span class="syntax-MARKUP">&gt;</span>-1<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">DTAR020-QTY-SOLD</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  21 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">DTAR020-SALE-PRICE</span><span class="syntax-MARKUP">&gt;</span>-19.00<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">DTAR020-SALE-PRICE</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  22 </span>    <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Line</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  23 </span>    <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Line</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  24 </span>        ....
<span class="gutterH">  25 </span>    <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Line</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  26 </span>    <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Line</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  27 </span>        ....
<span class="gutter">  28 </span>    <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Line</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  29 </span>        ....
<span class="gutterH">  30 </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">copybook</span><span class="syntax-MARKUP">&gt;</span>    
</span>

</pre>
<h2><a id="Multi">Multi-Record File</a></h2>
<p>With Multi-Record files, you must define how to determine what type of record it is.
There are other options to consider as well 
<h3><a id="BasicMulti">Basic Multi-Record File</a></h3>
<p>The <i>COBOL</i> copybook for a multi-record copybook would look like:

<pre><span class="syntax0"><span class="gutter"> 4 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-DIGIT">01</span> PO-Record.   
<span class="gutterH"> 5 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span>   <span class="syntax-DIGIT">03</span> Record-Type            <span class="syntax-KEYWORD1">Pic</span> X(<span class="syntax-DIGIT">2</span>).
<span class="gutter"> 6 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span>   <span class="syntax-DIGIT">03</span> Sequence-Number        <span class="syntax-KEYWORD1">Pic</span> 99v999. 
<span class="gutter"> 7 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span>   <span class="syntax-DIGIT">03</span> Vendor                 <span class="syntax-KEYWORD1">Pic</span> <span class="syntax-DIGIT">9</span>(<span class="syntax-DIGIT">10</span>).              
<span class="gutter"> 8 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span>   <span class="syntax-DIGIT">03</span> PO                     <span class="syntax-KEYWORD1">Pic</span> <span class="syntax-DIGIT">9</span>(<span class="syntax-DIGIT">12</span>).
<span class="gutter"> 9 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span>       ...
<span class="gutterH">10 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span>
<span class="gutter">11 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-DIGIT">01</span> Product-Record.
<span class="gutter">12 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span>   <span class="syntax-DIGIT">03</span> Record-Type            <span class="syntax-KEYWORD1">pic</span> xx.
<span class="gutter">13 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span>   <span class="syntax-DIGIT">03</span> Pack-Qty               <span class="syntax-KEYWORD1">Pic</span> <span class="syntax-DIGIT">9</span>(<span class="syntax-DIGIT">5</span>)V9999.
<span class="gutter">14 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span>     ...
<span class="gutterH">15 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span>                                                        
<span class="gutter">16 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-DIGIT">01</span> Location-Record.
<span class="gutter">17 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span>   <span class="syntax-DIGIT">03</span> Record-Type            <span class="syntax-KEYWORD1">pic</span> xx.
<span class="gutter">18 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span>   <span class="syntax-DIGIT">03</span> location <span class="syntax-KEYWORD1">occurs</span> <span class="syntax-DIGIT">10</span>.
<span class="gutter">19 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span>      <span class="syntax-DIGIT">05</span> DC-Number           <span class="syntax-KEYWORD1">pic</span> <span class="syntax-DIGIT">9</span>(<span class="syntax-DIGIT">4</span>).
<span class="gutterH">20 </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span><span class="syntax-COMMENT4"> </span>      <span class="syntax-DIGIT">05</span> Pack-Quantity       <span class="syntax-KEYWORD1">pic</span> <span class="syntax-DIGIT">9</span>(<span class="syntax-DIGIT">8</span>).         
</span>

When converting a multi-record file to Xml you define the records
with the <font color="blue">-recordSelection</font> tag:

    java -cp ../cb2xml.jar;../JRecord.jar;../Cobol2Xml.jar   net.sf.JRecord.cbl2xm l.Data2Xml -cobol amsPoDownload.cbl -fileOrganisation text  ^
                                 <b><font color="green">-split 01</font></b> ^
                                 <b><font color="blue">-recordSelection PO-Record       Record-Type=H1</font></b> ^
                                 <b><font color="blue">-recordSelection Product-Record  Record-Type=D1</font></b> ^
                                 <b><font color="blue">-recordSelection Location-Record Record-Type=S1</font></b> ^
                             -input  in/Ams_PODownload_20041231.txt   ^
                             -output out/Ams_PODownload_20041231_bat_Flat.xml 
</pre>

<b>Note:</b> The <ul>
<li><b><font color="green">-split</font></b> indicates how the copybook should be <b>split</b> into seperate <b><i>Records</i></b></li>
<li><b><font color="blue">-recordSelection</font></b> defines how each Record Type is determined. In the above,  
when <font color="blue">Record-Type</font>=<font color="blue">H1</font> you have a <b>PO-Record</b>,
while <font color="blue">Record-Type</font>=<font color="blue">D1</font> indicates a <b>Product-Record</b>.
</li>
</ul>

<pre>
While in <b>Groovy</b> you would do:

<span class="syntax0"><span class="gutter">13 </span>    Cobol2Xml     .<span class="syntax-FUNCTION">newCobol2Xml</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">amsPoDownload</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">cbl</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>
<span class="gutter">14 </span>                                             <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Cobol</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Options</span>
<span class="gutterH">15 </span>                             .<span class="syntax-FUNCTION">setFileOrganization</span><span class="syntax-OPERATOR">(</span>constants.IO_UNICODE_TEXT<span class="syntax-OPERATOR">)</span>
<span class="gutter">16 </span>                             <span STYLE="background-color:#FFF0CC"><b>.<span class="syntax-FUNCTION">setSplitCopybook</span><span class="syntax-OPERATOR">(</span>constants.SPLIT_01_LEVEL<span class="syntax-OPERATOR">)</span></b></span>      <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Split</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Cobol</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Copybook</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">on</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">01</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">levels</span>
<span class="gutter">17 </span>                             .<span class="syntax-FUNCTION">setFont</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">UTF</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">8</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>                                <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">It</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">a</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">good</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">idea</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">set</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Character-set</span>
<span class="gutter">18 </span>
<span class="gutter">19 </span>                                             <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Tell</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">JRecord</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">how</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">determine</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">which</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">record</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">which</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">by</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Testing</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Record-Type</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">field</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span>
<span class="gutterH">20 </span>                              <span STYLE="background-color:#FFF0CC"><b>.<span class="syntax-FUNCTION">setRecordSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">PO</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span>,       Cobol2Xml.<span class="syntax-FUNCTION">newFieldSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Type</span><span class="syntax-LITERAL1">&quot;</span>,<span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">H1</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span> <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Record-Type='H1'</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span></span></b>
<span class="gutter">21 </span>                              <span STYLE="background-color:#FFF0CC"><b>.<span class="syntax-FUNCTION">setRecordSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Product</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span>,  Cobol2Xml.<span class="syntax-FUNCTION">newFieldSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Type</span><span class="syntax-LITERAL1">&quot;</span>,<span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">D1</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span> <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Record-Type='D1'</span></span></b>
<span class="gutter">22 </span>                              <span STYLE="background-color:#FFF0CC"><b>.<span class="syntax-FUNCTION">setRecordSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Location</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span>, Cobol2Xml.<span class="syntax-FUNCTION">newFieldSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Type</span><span class="syntax-LITERAL1">&quot;</span>,<span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">S1</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span></span></b>
<span class="gutter">23 </span>
<span class="gutter">24 </span>                  .<span class="syntax-FUNCTION">cobol2xml</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">in</span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1">Ams_PODownload_20041231</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">txt</span><span class="syntax-LITERAL1">&quot;</span>, <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">out</span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1">Ams_PODownload_20041231_Groovy_flat</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">xml</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>;
</span>


And finally the Xml will look like:

<span class="syntax0"><span class="gutter"> 2 </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">CobolData</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 3 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">PO-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 4 </span>                <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Record-Type</span><span class="syntax-MARKUP">&gt;</span>H1<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Record-Type</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH"> 5 </span>                ...
<span class="gutter"> 6 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">PO-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 7 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Product-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 8 </span>                <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Record-Type</span><span class="syntax-MARKUP">&gt;</span>D1<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Record-Type</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 9 </span>                ...
<span class="gutterH">10 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Product-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">11 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Location-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">12 </span>                <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Record-Type</span><span class="syntax-MARKUP">&gt;</span>S1<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Record-Type</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">13 </span>                ...
<span class="gutter">14 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Location-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH">15 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Product-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">16 </span>                <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Record-Type</span><span class="syntax-MARKUP">&gt;</span>D1<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Record-Type</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">17 </span>                ...
<span class="gutter">18 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Product-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">19 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Location-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH">20 </span>                <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Record-Type</span><span class="syntax-MARKUP">&gt;</span>S1<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Record-Type</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">21 </span>                ...
<span class="gutter">22 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Location-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">23 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Location-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">24 </span>                <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Record-Type</span><span class="syntax-MARKUP">&gt;</span>S1<span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Record-Type</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH">25 </span>                ...
<span class="gutter">26 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Location-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">27 </span>        ...
<span class="gutter">28 </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">CobolData</span><span class="syntax-MARKUP">&gt;</span>
</span>
</pre>

<h3><a id="Hierarchy">Record Hierarchy</a></h3>
<p>This example uses the same Cobol as used in <a href="#BasicMulti">Basic Multi-Record File</a>.

<pre>
To add hieracrhy informat, use the <b><font color="blue">-recordParent</font></b> tag:

    java -cp ../cb2xml.jar;../JRecord.jar;../Cobol2Xml.jar   net.sf.JRecord.cbl2xm l.Data2Xml -cobol amsPoDownload.cbl -fileOrganisation text  ^
                                 <b><font color="green">-split 01</font></b> ^
                                 <b><font color="green">-recordSelection PO-Record       Record-Type=H1</font>          </b> ^
                                 <b><font color="green">-recordSelection Product-Record  Record-Type=D1</font>   <span STYLE="background-color:#FFF0CC"><font color="blue">-recordParent</font> Product-Record  PO-Record     </span>  </b> ^
                                 <b><font color="green">-recordSelection Location-Record Record-Type=S1</font>   <span STYLE="background-color:#FFF0CC"><font color="blue">-recordParent</font> Location-Record Product-Record</span>  </b> ^
                             -input  in/Ams_PODownload_20041231.txt   ^
                             -output out/Ams_PODownload_20041231_bat_Flat.xml 
</pre>                             
in Groovy (and other JVM languages) you would use the <b><font color="blue">.setRecordParent</font></b> method:  

<pre><span class="syntax0"><span class="gutterH">65 </span>    Cobol2Xml     .<span class="syntax-FUNCTION">newCobol2Xml</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">amsPoDownload</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">cbl</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>
<span class="gutter">66 </span>                                             <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Set</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Cobol</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Copybook</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Options</span>
<span class="gutter">67 </span>                             .<span class="syntax-FUNCTION">setFileOrganization</span><span class="syntax-OPERATOR">(</span>constants.IO_UNICODE_TEXT<span class="syntax-OPERATOR">)</span>
<span class="gutter">68 </span>                             .<span class="syntax-FUNCTION">setDialect</span><span class="syntax-OPERATOR">(</span>constants.FMT_FUJITSU<span class="syntax-OPERATOR">)</span>
<span class="gutter">69 </span>                             .<span class="syntax-FUNCTION">setSplitCopybook</span><span class="syntax-OPERATOR">(</span>constants.SPLIT_01_LEVEL<span class="syntax-OPERATOR">)</span>
<span class="gutterH">70 </span>
<span class="gutter">71 </span>                                             <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Tell</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">JRecord</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">how</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">determine</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">which</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">record</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">which</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">by</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Testing</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Record-Type</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">field</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span>
<span class="gutter">72 </span>                             .<span class="syntax-FUNCTION">setRecordSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">PO</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span>,       Cobol2Xml.<span class="syntax-FUNCTION">newFieldSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Type</span><span class="syntax-LITERAL1">&quot;</span>,<span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">H1</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>
<span class="gutter">73 </span>                             .<span class="syntax-FUNCTION">setRecordSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Product</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span>,  Cobol2Xml.<span class="syntax-FUNCTION">newFieldSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Type</span><span class="syntax-LITERAL1">&quot;</span>,<span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">D1</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>
<span class="gutter">74 </span>                             .<span class="syntax-FUNCTION">setRecordSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Location</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span>, Cobol2Xml.<span class="syntax-FUNCTION">newFieldSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Type</span><span class="syntax-LITERAL1">&quot;</span>,<span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">S1</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>
<span class="gutterH">75 </span>
<span class="gutter">76 </span>                                             <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Define</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">parent</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">-</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">child</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">relationships</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">between</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Records</span><span class="syntax-COMMENT1"> </span>
<span class="gutter">77 </span>                             <span STYLE="background-color:#FFF0CC"><b>.<span class="syntax-FUNCTION">setRecordParent</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Product</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span>,  <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">PO</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>      <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">The</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">parent</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Product-Record</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">PO-Record</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span></b></span>
<span class="gutter">78 </span>                             <span STYLE="background-color:#FFF0CC"><b>.<span class="syntax-FUNCTION">setRecordParent</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Location</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span>, <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Product</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span></b></span>
<span class="gutter">79 </span>
<span class="gutterH">80 </span>                                             <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Convert</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">file</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Xml</span>
<span class="gutter">81 </span>                  .<span class="syntax-FUNCTION">cobol2xml</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">in</span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1">Ams_PODownload_20041231</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">txt</span><span class="syntax-LITERAL1">&quot;</span>, <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">out</span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1">Ams_PODownload_20041231_Groovy_tree</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">xml</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">82 </span>
</span>
</pre>

In the Generated Xml, the <b>Location-Record</b> tag is Nested inside the <b>Product-Record</b> which is intern nested inside the <b>PO-Record</b>:

<pre><span class="syntax0"><span class="gutter"> 2 </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">CobolData</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 3 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">PO-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 4 </span>                ...
<span class="gutterH"> 5 </span>                <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Product-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 6 </span>                        ...
<span class="gutter"> 7 </span>                        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Location-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 8 </span>                                ...
<span class="gutter"> 9 </span>                        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Location-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH">10 </span>                <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Product-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">11 </span>                <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Product-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">12 </span>                        ...
<span class="gutter">13 </span>                        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Location-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">14 </span>                                ....
<span class="gutterH">15 </span>                <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Product-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">16 </span>                <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Product-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">17 </span>                        ...
<span class="gutter">18 </span>                        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Location-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">19 </span>                                ...
<span class="gutterH">20 </span>                        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Location-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">21 </span>                        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">Location-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">22 </span>                                ...
<span class="gutter">23 </span>                        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Location-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">24 </span>                <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">Product-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH">25 </span>                ....
<span class="gutter">26 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">PO-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">27 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">PO-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">28 </span>                ...
<span class="gutter">29 </span>        <span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">PO-Record</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH">30 </span>        ...
<span class="gutter">31 </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">CobolData</span><span class="syntax-MARKUP">&gt;</span>
</span></pre>

<h3><a id="Array">Array Checks</a></h3>
<p>Some times arrays are only partially filled. There are options for handling partially filled
<b>Single Dimension</b> arrays via the Java / jvm interface, you use the <font color="blue"><b>setArrayCheck</b></font> method:

<pre><span class="syntax0"><span class="gutter"> 86 </span>   Cobol2Xml     .<span class="syntax-FUNCTION">newCobol2Xml</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">amsPoDownload</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">cbl</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 87 </span>                                             <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Set</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Cobol</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Copybook</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Options</span>
<span class="gutter"> 88 </span>                             .<span class="syntax-FUNCTION">setFileOrganization</span><span class="syntax-OPERATOR">(</span>constants.IO_UNICODE_TEXT<span class="syntax-OPERATOR">)</span>
<span class="gutter"> 89 </span>                             .<span class="syntax-FUNCTION">setDialect</span><span class="syntax-OPERATOR">(</span>constants.FMT_FUJITSU<span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 90 </span>                             .<span class="syntax-FUNCTION">setSplitCopybook</span><span class="syntax-OPERATOR">(</span>constants.SPLIT_01_LEVEL<span class="syntax-OPERATOR">)</span>
<span class="gutter"> 91 </span>
<span class="gutter"> 92 </span>                                             <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Tell</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">JRecord</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">how</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">determine</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">which</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">record</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">which</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">by</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Testing</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Record-Type</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">field</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span>
<span class="gutter"> 93 </span>                             .<span class="syntax-FUNCTION">setRecordSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">PO</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span>,       Cobol2Xml.<span class="syntax-FUNCTION">newFieldSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Type</span><span class="syntax-LITERAL1">&quot;</span>,<span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">H1</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 94 </span>                             .<span class="syntax-FUNCTION">setRecordSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Product</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span>,  Cobol2Xml.<span class="syntax-FUNCTION">newFieldSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Type</span><span class="syntax-LITERAL1">&quot;</span>,<span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">D1</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 95 </span>                             .<span class="syntax-FUNCTION">setRecordSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Location</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span>, Cobol2Xml.<span class="syntax-FUNCTION">newFieldSelection</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Type</span><span class="syntax-LITERAL1">&quot;</span>,<span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">S1</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 96 </span>
<span class="gutter"> 97 </span>                                             <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Define</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">parent</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">-</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">child</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">relationships</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">between</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Records</span><span class="syntax-COMMENT1"> </span>
<span class="gutter"> 98 </span>                             .<span class="syntax-FUNCTION">setRecordParent</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Product</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span>,  <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">PO</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>      <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">The</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">parent</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Product-Record</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">PO-Record</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span>
<span class="gutter"> 99 </span>                             .<span class="syntax-FUNCTION">setRecordParent</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Location</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span>, <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Product</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">Record</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>
<span class="gutterH">100 </span>                             
<span class="gutter">101 </span>                             .<span STYLE="background-color:#FFF0CC"><b><span class="syntax-FUNCTION">setArrayCheck</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">location</span><span class="syntax-LITERAL1">&quot;</span>, Cobol2Xml.ARRAY_CHECK_BUILDER.<span class="syntax-FUNCTION">newStopAtSpacesZeros</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>  <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Array</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Elemetn</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">check</span></b></span>
<span class="gutter">102 </span>
<span class="gutter">103 </span>                                             <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Convert</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">file</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Xml</span>
<span class="gutter">104 </span>                  .<span class="syntax-FUNCTION">cobol2xml</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">in</span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1">Ams_PODownload_20041231</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">txt</span><span class="syntax-LITERAL1">&quot;</span>, <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">out</span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1">Ams_PODownload_20041231_Groovy_tree_arrayCheck</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">xml</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH">105 </span>                  
</span></pre>

<p>The array checks available on <b>Cobol2Xml.ARRAY_CHECK_BUILDER</b>, the methods available are:<ul>
<li><b>newIndexCheck(String variableName)</b> - get the number of elements in the array from a variable.</li>
<li><b>newSkipSpaces()</b> - Skip array-elements that are spaces.</li>
<li><b>newStopAtSpaces()</b> - Stop processing at the first array-elements that is spaces.</li>
<li><b>newSkipSpacesZeros()</b> - Skip array-elements that are spaces or zeros.</li>
<li><b>newStopAtSpacesZeros()</b> - Stop processing at the first array-elements that is spaces or zeros.</li>
<li><b>newSkipHighValues()</b> - Skip array-elements that are high-values (0xFF).</li>
<li><b>newStopAtHighValues()</b> - Stop processing at the first array-elements that is  high-values (0xFF).</li>
<li><b>newSkipLowValues()</b> - Skip array-elements that are low-values (0x00).</li>
<li><b>newStopAtLowValues()</b> - Stop processing at the first array-elements that is  low-values (0x00).</li>
</ul>
<HR><H2><A NAME="RecordEditor" HREF="#TocRecordEditor" >RecordEditor</A></H2>
<p>You will find the <a href="http://record-editor.sourceforge.net">RecordEditor</a> usefull because
<ul>
 <li>It can <b>edit</b> <i>Cobol Data</i> files using a <i>Cobol Copybook</i></li>
 <li>In version 0.98 (or later), there is a <b>Code Generation</b> utility that will:<ul>
    <li>Analyze a Cobol Copybook / Cobol Data File</li>
    <li>Generate Bat/Shell-Script/Java-Script scripts to Convert <i>Cobol Data</i> files to/from <i>Xml</i> files using <b>CobolToXml</b> jars.</li>
 </ul></li>
</ul> 

<P>
<P><H3><A NAME="GenCode" HREF="#TocGenCode" >Starting Code Generation</A></H3>
<P>In the <a href="http://record-editor.sourceforge.net" TARGET="_top">RecordEditor</a> select the <B>Generate &gt;&gt;&gt; Java JRecord Code for Cobol</B>
<P>
<img SRC="Diagram/CobolGen01.png">
<P>
<P>On the next screen you enter the <B>Cobol Copybook</B> and the sample <B>Cobol Data file</B>
<P>
<img SRC="Diagram/CobolGen02.png">
<P>
<P>Make sure you specify the correct Cobol dialect. The <a href="http://record-editor.sourceforge.net" TARGET="_top">RecordEditor</a> will try
and figure out the file attributes and display the file on the Right-Hand-side of the screen.
Update the attributes as need to display the file correctly.
<P>When you are satisfied the attributes are correct then select the
<B>Generate &gt;&gt;&gt;&gt; Cobol &lt;=&gt; Csv &gt;&gt;&gt; ***</B> drop down menu option.
<P>
<img SRC="Diagram/XmlGen03.png">
<P>
<P>The destination screen should be displayed next&#58;
<P>
<img SRC="Diagram/XmlGen04.png">
<P>
<P>Click the <B>Generate Code</B> button and the generated code will be displayed&#58;
<P>
<img SRC="Diagram/XmlGen05.png">
<P>
